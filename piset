mostly from https://esp32.com/viewtopic.php?t=256


sudo apt-get update

sudo apt-get install git
sudo apt-get install wget
sudo apt-get install make
sudo apt-get install libncurses-dev
sudo apt-get install flex
sudo apt-get install bison
sudo apt-get install gperf
sudo apt-get install python
sudo apt-get install python-serial

sudo apt-get install gawk

sudo apt-get install grep
sudo apt-get install gettext
sudo apt-get install automake
sudo apt-get install texinfo
sudo apt-get install help2man
sudo apt-get install libtool
sudo apt-get install libtool-bin
sudo apt-get install python-dev
sudo apt-get install python-pip

check pwd is home/pi
do not do any of the following as sudo

mkdir esp
cd ~/esp
git clone -b xtensa-1.22.x https://github.com/espressif/crosstool-NG.git
cd crosstool-NG/
./bootstrap
./configure --enable-local
make install


./ct-ng xtensa-esp32-elf

sudo nano ./.config
-- > Find CT_PARALLEL_JOBS=0 and change 0 to 1

./ct-ng build build.1

http://iot-bits.com/esp32/getting-started-with-esp32-esp-idf-part-2/

see separate file for output during tool generation

generates toolchain into

/home/pi/esp/crosstool-NG/builds/xtensa-esp32-elf

cp -a ~/esp/crosstool-NG/builds/xtensa-esp32-elf/. ~/esp/xtensa-esp32-elf
chmod -R u+w ~/esp/xtensa-esp32-elf


https://docs.espressif.com/projects/esp-idf/en/latest/get-started/linux-setup.html#setup-linux-toolchain-add-it-to-path


cd ~/esp

https://docs.espressif.com/projects/esp-idf/en/latest/get-started/add-idf_path-to-profile.html#add-idf-path-to-profile-linux-macos

https://docs.espressif.com/projects/esp-idf/en/latest/get-started/index.html#get-started-start-project

Over The Air Programming (OTA)

now looking at over the air programming from pi
as i will have > 15 in house - be good to update them remotely

=== Saturday 1 Dec 2018 - 1307

changed name to eps32pi
updated/upgraded pi
https://github.com/espressif/esp-idf/tree/1cffc90/examples/system/ota
https://www.raspberrypi.org/documentation/remote-access/web-server/apache.md
cd ~/esp
cd esp-idf
sudo git pull origin master

https://www.raspberrypi.org/documentation/remote-access/web-server/apache.md
sudo apt-get install apache2 -y

---- rewind to here -----
https://variax.wordpress.com/2017/03/18/adding-https-to-the-raspberry-pi-apache-web-server/comment-page-1/

cd $IDF_PATH/examples/get-started/hello_world
make
--- the menu appeared
--- failed to build due to python dependencies
sudo apt-get install build-essential libssl-dev libffi-dev python3-dev
python is 2.7.3
maybe I should run the following:
sudo apt-get install build-essential libssl-dev libffi-dev python-dev

sudo /usr/bin/python -m pip install --user -r /home/pi/esp/esp-idf/requirements.txt
cryptography failed to install
https://cryptography.io/en/latest/installation/
sudo apt-get install build-essential libssl-dev libffi-dev python3-dev
XXX sudo /usr/bin/python -m pip install --user -r /home/pi/esp/esp-idf/requirements.txt
crptography takes a while to install

cd /home/pi/esp/esp-idf
sudo git submodule update --init --recursive

XXX should not have used sudo above as cannot sudo make

python -m pip install --user -r $IDF_PATH/requirements.txt


cd build



